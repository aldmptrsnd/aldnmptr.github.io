<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transaksi Perpustakaan</title>
    <style>
        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            color: #333;
            padding: 0;
        }

        /* Header navbar */
        .navbar {
            background-color: #333;
            color: white;
            padding: 15px;
            text-align: center;
        }

        .navbar a {
            color: white;
            padding: 10px 15px;
            text-decoration: none;
            margin: 0 10px;
            font-size: 16px;
        }

        .navbar a:hover {
            background-color: #575757;
            border-radius: 4px;
        }

        .container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 28px;
        }

        .form-container {
            display: flex;
            justify-content: space-between;
            gap: 20px;
        }

        .form-section {
            flex: 1;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .form-section h2 {
            text-align: center;
            margin-bottom: 20px;
            font-size: 24px;
            color: rgb(2, 2, 67);
        }

        .form-section label {
            display: block;
            font-size: 16px;
            margin-bottom: 8px;
            color: #555;
        }

        .form-section select,
        .form-section input[type="text"],
        .form-section input[type="date"],
        .form-section input[type="submit"] {
            width: 100%;
            padding: 12px;
            margin-bottom: 20px;
            border-radius: 4px;
            border: 1px solid #ccc;
            font-size: 16px;
        }

        .form-section input[type="submit"] {
            background-color: rgb(2, 2, 67);
            color: #fff;
            border: none;
            cursor: pointer;
        }

        .form-section input[type="submit"]:hover {
            background-color: rgb(2, 2, 67);
        }

        .form-section input[type="text"]:focus,
        .form-section input[type="date"]:focus {
            border-color: rgb(2, 2, 67);
            outline: none;
        }

        .transaction-table {
            margin-top: 30px;
            width: 100%;
            border-collapse: collapse;
        }

        .transaction-table th, .transaction-table td {
            padding: 10px;
            border: 1px solid #ddd;
            text-align: left;
        }

        .transaction-table th {
            background-color: rgb(2, 2, 67);
            color: white;
        }

        /* Footer navbar */
        .footer-navbar {
            background-color: #333;
            color: white;
            text-align: center;
            padding: 15px;
            position: fixed;
            width: 100%;
            bottom: 0;
        }

        .footer-navbar a {
            color: white;
            padding: 10px 15px;
            text-decoration: none;
            margin: 0 10px;
            font-size: 16px;
        }

        .footer-navbar a:hover {
            background-color: #575757;
            border-radius: 4px;
        }
    </style>
</head>
<body>

<!-- Header Navbar -->
<div class="navbar">
    <a href="#">Home</a>
    <a href="#">Peminjaman</a>
    <a href="#">Pengembalian</a>
    <a href="#">Data Transaksi</a>
</div>

<div class="container">
    <form method="post" action="login.html">
        <div class="tampilan">
            <div class="kepala">
                <img src="logo.png" width="150" height="150" class="logo" />
                <h2 class="judul">Transaksi Peminjaman dan Pengembalian Buku</h2>
            </div>
    
    <div class="form-container">
        <!-- Form Peminjaman Buku -->
        <div class="form-section">
            <h2>Peminjaman Buku</h2>
            <form id="pinjamForm">
                <label for="nama_peminjam">Nama Anggota</label>
                <input type="text" id="nama_peminjam" name="nama_peminjam" placeholder="Masukkan nama Anda" required>

                <!-- Dropdown Pilihan Buku -->
                <label for="judul_buku">Judul Buku</label>
                <select id="judul_buku" name="judul_buku" required>
                    <option value="buku"></option>
                    <option value="buku1">Rich Dad Poor Dad</option>
                    <option value="buku2">389 ways to save money</option>
                    <option value="buku3">will teach you to be rich</option>
                    <option value="buku4">the investment zoo</option>
                    <option value="lainnya">Lainnya (Masukkan Judul)</option>
                </select>
            
                    <label for="judul buku">Lainnya (Masukkan Judul)</label>
                    <input type="text" id="judul_buku" name="judul_buku" placeholder="Masukkan judul buku" required>

                <!-- Dropdown Kategori Buku -->
                <label for="kategori_buku">Kategori Buku</label>
                <select id="kategori_buku" name="kategori_buku" required>
                    <option value="kategori"></option>
                    <option value="teknologi">Teknologi</option>
                    <option value="sains">Sains</option>
                    <option value="matematika">Matematika</option>
                    <option value="sejarah">Sejarah</option>
                    <option value="lainnya">Lainnya</option>
                </select>

                <label for="tanggal_pinjam">Tanggal Pinjam</label>
                <input type="date" id="tanggal_pinjam" name="tanggal_pinjam" required>

                <label for="tanggal_kembali">Tanggal Kembali</label>
                <input type="date" id="tanggal_kembali" name="tanggal_kembali" required>

                <input type="submit" value="Pinjam Buku">
            </form>
        </div>

        <!-- Form Pengembalian Buku -->
        <div class="form-section">
            <h2>Pengembalian Buku</h2>
            <form id="kembaliForm">
                <label for="nama_pengembali">Nama Anggota</label>
                <input type="text" id="nama_pengembali" name="nama_pengembali" placeholder="Masukkan nama Anda" required>

                <!-- Dropdown Pilihan Buku -->
                <label for="judul_buku">Judul Buku</label>
                <select id="judul_buku" name="judul_buku" required>
                    <option value="buku"></option>
                    <option value="buku1">Rich Dad Poor Dad</option>
                    <option value="buku2">389 ways to save money</option>
                    <option value="buku3">will teach you to be rich</option>
                    <option value="buku4">the investment zoo</option>
                    <option value="lainnya">Lainnya (Masukkan Judul)</option>
                </select>
            
                    <label for="judul buku">Lainnya (Masukkan Judul)</label>
                    <input type="text" id="judul_buku" name="judul_buku" placeholder="Masukkan judul buku" required>

                <!-- Dropdown Kategori Buku -->
                <label for="kategori_buku">Kategori Buku</label>
                <select id="kategori_buku" name="kategori_buku" required>
                    <option value="kategori"></option>
                    <option value="teknologi">Teknologi</option>
                    <option value="sains">Sains</option>
                    <option value="matematika">Matematika</option>
                    <option value="sejarah">Sejarah</option>
                    <option value="lainnya">Lainnya</option>
                </select>
                <label for="tanggal_pengembalian">Tanggal Pengembalian</label>
                <input type="date" id="tanggal_pengembalian" name="tanggal_pengembalian" required>

                <input type="submit" value="Kembalikan Buku">
            </form>
        </div>
    </div>

    <h2>Data Transaksi</h2>
    <table class="transaction-table" id="transactionTable">
        <thead>
            <tr>
                <th>Nama Pemegang</th>
                <th>Judul Buku</th>
                <th>Kategori Buku</th>
                <th>Tanggal Transaksi</th>
                <th>Jenis Transaksi</th>
            </tr>
        </thead>
        <tbody>
            <!-- Data transaksi akan tampil di sini -->
        </tbody>
    </table>
</div>

<!-- Footer Navbar -->
<div class="footer-navbar">
    <a href="#">Tentang Kami</a>
    <a href="#">Kontak</a>
    <a href="#">Kebijakan Privasi</a>
</div>

<script>
// Fungsi untuk menyimpan transaksi di localStorage
function saveTransaction(data) {
    let transactions = JSON.parse(localStorage.getItem('transactions')) || [];
    transactions.push(data);
    localStorage.setItem('transactions', JSON.stringify(transactions));
}

// Fungsi untuk menampilkan transaksi di tabel
function displayTransactions() {
    const transactions = JSON.parse(localStorage.getItem('transactions')) || [];
    const tableBody = document.querySelector("#transactionTable tbody");
    tableBody.innerHTML = ''; // Clear existing data

    transactions.forEach(transaction => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${transaction.nama}</td>
            <td>${transaction.judul}</td>
            <td>${transaction.kategori}</td>
            <td>${transaction.tanggal}</td>
            <td>${transaction.jenis}</td>
        `;
        tableBody.appendChild(row);
    });
}

// Event listener untuk form peminjaman
document.getElementById("pinjamForm").addEventListener("submit", function(event) {
    event.preventDefault();

    const namaPeminjam = document.getElementById("nama_peminjam").value;
    const judulBuku = document.getElementById("judul_buku").value;
    const kategoriBuku = document.getElementById("kategori_buku").value;
    const tanggalPinjam = document.getElementById("tanggal_pinjam").value;
    const tanggalKembali = document.getElementById("tanggal_kembali").value;

    const transaction = {
        nama: namaPeminjam,
        judul: judulBuku,
        kategori: kategoriBuku,
        tanggal: `${tanggalPinjam} - ${tanggalKembali}`,
        jenis: "Peminjaman"
    };

    saveTransaction(transaction);
    displayTransactions();

    // Reset form
    document.getElementById("pinjamForm").reset();
});

// Event listener untuk form pengembalian
document.getElementById("kembaliForm").addEventListener("submit", function(event) {
    event.preventDefault();

    const namaPengembali = document.getElementById("nama_pengembali").value;
    const judulBukuKembali = document.getElementById("judul_buku_kembali").value;
    const tanggalPengembalian = document.getElementById("tanggal_pengembalian").value;

    const transaction = {
        nama: namaPengembali,
        judul: judulBukuKembali,
        tanggal: tanggalPengembalian,
        jenis: "Pengembalian"
    };

    saveTransaction(transaction);
    displayTransactions();

    // Reset form
    document.getElementById("kembaliForm").reset();
});

// Tampilkan transaksi saat halaman dimuat
document.addEventListener("DOMContentLoaded", displayTransactions);
</script>

</body>
</html>
